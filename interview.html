<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Interview - KnowLumi</title>
  <link rel="icon" type="image/svg+xml" href="Group 1.svg" />
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Roboto', Arial, sans-serif; }
    .interview-shadow { box-shadow: 0 2px 24px 0 rgba(0,0,0,0.10); }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-100 via-white to-green-100 overflow-hidden">
  <div class="fixed top-4 left-6 z-50">
  <img src="Group 1.svg" alt="Logo" class="w-24 h-24 object-contain" />
</div>
  <!-- In-call Messages Side Box (HIDDEN by default) -->
  <div id="inCallMessages" class="fixed top-0 right-0 h-full w-full max-w-[380px] bg-white rounded-l-3xl shadow-2xl border-l border-gray-200 flex flex-col z-40 transition-transform duration-300 translate-x-full" style="display:none;">
    <!-- Header -->
    <div class="flex items-center justify-between px-6 pt-7 pb-4 border-b border-gray-100">
      <span class="font-bold text-lg text-gray-900">In-call messages</span>
      <button id="closeMsgPanel" class="text-gray-400 hover:text-gray-700 text-2xl focus:outline-none"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <!-- Toggle -->
    <div class="flex items-center gap-3 px-6 py-3">
      <span class="text-gray-700 font-medium">Let everyone send messages</span>
      <button id="msgToggle" class="ml-auto w-11 h-6 flex items-center bg-gray-200 rounded-full p-1 transition-colors duration-200 focus:outline-none">
        <span class="inline-block w-5 h-5 bg-blue-600 rounded-full shadow transform translate-x-0 transition-transform duration-200" id="msgToggleDot"></span>
      </button>
    </div>
    <!-- Info message -->
    <div class="px-6 pt-2 pb-4">
      <div class="bg-gray-100 rounded-xl p-4 text-gray-700 text-sm font-medium">
        You can pin a message to make it visible for people who join later. When you leave the call, you wonâ€™t be able to access this chat.
      </div>
    </div>
    <!-- Messages area (empty for now) -->
    <div class="flex-1 px-6 overflow-y-auto"></div>
    <!-- Message input -->
    <form class="w-full px-4 pb-5 pt-1">
      <div class="flex items-end bg-gray-100 rounded-2xl px-4 py-2">
        <input type="text" class="flex-1 bg-transparent outline-none border-none text-gray-800 placeholder-gray-400 text-sm" placeholder="Send a message" />
        <button type="submit" class="ml-2 text-blue-600 text-xl hover:text-blue-800 transition"><i class="fa-solid fa-paper-plane"></i></button>
      </div>
    </form>
  </div>
  <script>
    // Simple open/close logic for the panel
    document.getElementById('closeMsgPanel').onclick = function() {
      document.getElementById('inCallMessages').style.transform = 'translateX(100%)';
    };
    // Toggle switch logic
    let toggle = document.getElementById('msgToggle');
    let dot = document.getElementById('msgToggleDot');
    let enabled = true;
    toggle.onclick = function() {
      enabled = !enabled;
      if (enabled) {
        toggle.classList.remove('bg-gray-200');
        toggle.classList.add('bg-blue-100');
        dot.classList.remove('translate-x-5', 'bg-gray-300');
        dot.classList.add('translate-x-0', 'bg-blue-600');
      } else {
        toggle.classList.remove('bg-blue-100');
        toggle.classList.add('bg-gray-200');
        dot.classList.remove('translate-x-0', 'bg-blue-600');
        dot.classList.add('translate-x-5', 'bg-gray-300');
      }
    };
  </script>
  <div class="flex flex-row items-stretch justify-center min-h-screen w-full bg-gradient-to-br from-blue-100 via-white to-green-100 p-0 m-0 overflow-hidden">

    <!-- Main Row: Agents | Camera | Feed -->
    <div class="flex flex-row items-stretch justify-between w-full max-w-full gap-6 md:gap-10 px-4 py-8">

      <!-- Vertical Agent Cards -->
      <div class="flex flex-col gap-4 items-center justify-center py-4 min-w-[120px] max-w-[160px] w-[12vw] h-full">

        <div class="flex flex-col items-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow border border-blue-200 px-3 py-2 w-[90px]">
          <img src="alex.png" alt="Alex" class="w-10 h-10 rounded-full object-cover border-2 border-blue-300 shadow mb-1" onerror="this.style.display='none';this.nextElementSibling.style.display='inline-flex';" />
          <span style="display:none;" class="inline-flex items-center justify-center w-10 h-10 rounded-full text-sm font-bold shadow bg-gradient-to-br from-blue-200 to-blue-400 text-white border-2 border-blue-300 mb-1">AL</span>
          <span class="font-bold text-xs text-blue-900">Dr. Arjun Sharma</span>
          <span class="text-[0.7rem] text-blue-700 font-medium">Principal Software Architect</span>
        </div>
        <div class="flex flex-col items-center bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow border border-green-200 px-3 py-2 w-[90px]">
          <img src="morgan.png" alt="Morgan" class="w-10 h-10 rounded-full object-cover border-2 border-green-300 shadow mb-1" onerror="this.style.display='none';this.nextElementSibling.style.display='inline-flex';" />
          <span style="display:none;" class="inline-flex items-center justify-center w-10 h-10 rounded-full text-sm font-bold shadow bg-gradient-to-br from-green-200 to-green-400 text-white border-2 border-green-300 mb-1">MO</span>
          <span class="font-bold text-xs text-green-900">Priya Venkatesh</span>
          <span class="text-[0.7rem] text-green-700 font-medium">Senior Engineering Manager</span>
        </div>
        <div class="flex flex-col items-center bg-gradient-to-br from-pink-50 to-pink-100 rounded-xl shadow border border-pink-200 px-3 py-2 w-[90px]">
          <img src="taylor.png" alt="Taylor" class="w-10 h-10 rounded-full object-cover border-2 border-pink-300 shadow mb-1" onerror="this.style.display='none';this.nextElementSibling.style.display='inline-flex';" />
          <span style="display:none;" class="inline-flex items-center justify-center w-10 h-10 rounded-full text-sm font-bold shadow bg-gradient-to-br from-pink-200 to-pink-400 text-white border-2 border-pink-300 mb-1">TA</span>
          <span class="font-bold text-xs text-pink-900">Vikram Mehta</span>
          <span class="text-[0.7rem] text-pink-700 font-medium">Lead Backend Developer</span>
        </div>
        <div class="flex flex-col items-center bg-gradient-to-br from-red-50 to-red-100 rounded-xl shadow border border-red-200 px-3 py-2 w-[90px]">
          <img src="jordan.png" alt="Jordan" class="w-10 h-10 rounded-full object-cover border-2 border-red-300 shadow mb-1" onerror="this.style.display='none';this.nextElementSibling.style.display='inline-flex';" />
          <span style="display:none;" class="inline-flex items-center justify-center w-10 h-10 rounded-full text-sm font-bold shadow bg-gradient-to-br from-red-200 to-red-400 text-white border-2 border-red-300 mb-1">JO</span>
          <span class="font-bold text-xs text-red-900">Divya Patel</span>
          <span class="text-[0.7rem] text-red-700 font-medium">DevOps Specialist</span>
        </div>
      </div>
      <!-- Camera / Video Panel -->
      <div class="relative rounded-3xl bg-gradient-to-br from-white/80 to-blue-100/70 shadow-lg border-2 border-blue-200/40 overflow-hidden flex flex-col justify-end transition-all duration-300 w-[38vw] min-w-[320px] max-w-[700px] h-[90vh] min-h-[350px] mx-2">

        <video id="cameraFeed" autoplay playsinline muted class="w-full h-full object-cover object-center bg-gray-100 transition-all duration-300" style="border-radius: 2.6rem;"></video>
        <!-- Modern AI Performance Score Badge -->
        <div class="absolute top-5 right-6 flex flex-col items-end z-20">
          <div class="backdrop-blur-[8px] bg-white/30 border border-white/40 shadow-[0_4px_24px_rgba(120,90,255,0.10)] rounded-full px-4 py-1 flex items-center gap-2 min-w-[100px] glass-card" style="box-shadow:0 2px 12px 0 rgba(120,90,255,0.09);">
            <span class="flex items-center gap-1">
              <i class="fa-solid fa-trophy text-yellow-400 text-xs drop-shadow"></i>
              <span class="uppercase text-[0.85rem] font-bold text-gray-600 tracking-wider">Performance</span>
            </span>
            <span class="text-xs text-gray-400 font-medium ml-1">AI Score</span>
            <span class="text-xl font-extrabold bg-gradient-to-r from-purple-500 via-blue-500 to-purple-400 bg-clip-text text-transparent drop-shadow-glow ml-2 select-none">98</span>
          </div>
        </div>
        <!-- Bottom Controls (floating, glassy) -->
        <div class="absolute left-1/2 bottom-6 -translate-x-1/2 flex flex-row items-center justify-center bg-white/80 backdrop-blur-xl rounded-full px-8 py-2 shadow-2xl border border-gray-200/60 space-x-5" style="box-shadow:0 4px 32px 0 rgba(0,0,0,0.13); min-height:48px;">
          <span class="font-mono text-sm text-gray-800 select-none">00:00:00</span>
          <button class="text-blue-600 text-xl hover:bg-blue-100/70 hover:scale-110 transition rounded-full p-2 focus:outline-none relative group" title="Video On">
            <i class="fa-solid fa-video"></i>
            <span class="absolute left-1/2 -translate-x-1/2 top-full mt-2 text-xs bg-gray-900/80 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition pointer-events-none">Toggle Video</span>
          </button>
          <button class="text-gray-400 text-xl hover:bg-blue-100/70 hover:scale-110 transition rounded-full p-2 focus:outline-none relative group" title="Mic Off">
            <i class="fa-solid fa-microphone-slash mic-icon"></i>
            <span class="absolute left-1/2 -translate-x-1/2 top-full mt-2 text-xs bg-gray-900/80 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition pointer-events-none">Toggle Audio</span>
          </button>
        </div>
      </div>
      <!-- AI Interview Feed -->
      <div class="flex flex-col justify-center w-full h-full">

        <div class="flex flex-row w-full h-[90vh] bg-white/90 rounded-3xl shadow-2xl border border-gray-100 overflow-hidden backdrop-blur-lg">

          <!-- Sidebar: Question number rail -->
          <div id="ai-question-sidebar" class="flex flex-col items-center py-8 px-2 gap-4 bg-gradient-to-b from-blue-100/60 to-green-100/30 min-w-[160px]">
            <span class="font-bold text-sm text-gray-500 mb-4 tracking-widest">QUESTIONS</span>
            <div id="question-list" class="flex flex-col gap-3 w-full">
              <!-- Each question button will be styled as a rounded, shadowed progress dot/button -->
            </div>
          </div>
          <!-- AI Interview Feed as a full-height sidebar -->
          <div class="h-full flex-1 min-w-[320px] flex flex-col bg-white/95 border-l border-gray-200 shadow-2xl rounded-2xl interview-shadow" style="height: 100%;">
            <!-- Header -->
            <div class="flex items-center justify-between px-7 pt-7 pb-4 border-b border-gray-100 bg-white/90 rounded-t-2xl">
              <span class="font-bold text-xl text-blue-800 tracking-wide">AI Interview Feed</span>
              <button class="text-gray-400 hover:text-blue-600 text-2xl focus:outline-none transition"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <!-- Info message -->
            <div class="px-7 pt-3 pb-3">
              <div class="bg-blue-50 rounded-xl p-4 text-blue-800 text-sm font-medium shadow-sm">
                Each AI question appears here with a timer. Your answers will be shown in real time below each question. Use the left rail to see your progress.
              </div>
            </div>
            <!-- Chat feed: Only dynamic Q&A will be rendered here by JS -->
            <div class="flex-1 px-5 pb-3 overflow-y-auto flex flex-col gap-5" id="aiChatFeed" style="min-height:0;"></div>
            <!-- Voice Transcript Output -->
            <div id="voiceTranscript" class="w-full px-5 pt-2 pb-0 flex flex-col gap-1 text-sm"></div>
            <!-- Answer Input and Buttons moved here -->
            
          </div>
        </div>
      </div>
    </div>
  </div>
        <button class="text-red-600 text-xl hover:bg-red-100/70 hover:scale-110 transition rounded-full p-2 focus:outline-none relative group" title="End Call">
          <i class="fa-solid fa-phone-slash"></i>
          <span class="absolute left-1/2 -translate-x-1/2 top-full mt-2 text-xs bg-gray-900/80 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition pointer-events-none">End Call</span>
        </button>
        <button class="text-yellow-400 text-xl hover:bg-yellow-100/70 hover:scale-110 transition rounded-full p-2 focus:outline-none relative group" title="Magic AI">
          <i class="fa-solid fa-wand-magic-sparkles" style="color: #8b4dff;"></i>
          <span class="absolute left-1/2 -translate-x-1/2 top-full mt-2 text-xs bg-gray-900/80 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition pointer-events-none">AI Magic</span>
        </button>
      </div>
      <!-- Interviewer Profiles Row -->
      <!-- Vertical Agent Cards Between Camera and Feed -->
      <div class="absolute top-1/2 left-[calc(100%+16px)] -translate-y-1/2 flex flex-col gap-3 z-30 md:static md:translate-y-0 md:left-auto md:top-auto md:ml-6">
        <div class="flex flex-col items-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow border border-blue-200 px-3 py-2 w-[90px]">
          <img src="alex.png" alt="Alex" class="w-10 h-10 rounded-full object-cover border-2 border-blue-300 shadow mb-1" onerror="this.style.display='none';this.nextElementSibling.style.display='inline-flex';" />
          <span style="display:none;" class="inline-flex items-center justify-center w-10 h-10 rounded-full text-sm font-bold shadow bg-gradient-to-br from-blue-200 to-blue-400 text-white border-2 border-blue-300 mb-1">AL</span>
          <span class="font-bold text-xs text-blue-900">Dr. Arjun Sharma</span>
          <span class="text-[0.7rem] text-blue-700 font-medium">Principal Software Architect</span>
        </div>
        <div class="flex flex-col items-center bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow border border-green-200 px-3 py-2 w-[90px]">
          <img src="morgan.png" alt="Morgan" class="w-10 h-10 rounded-full object-cover border-2 border-green-300 shadow mb-1" onerror="this.style.display='none';this.nextElementSibling.style.display='inline-flex';" />
          <span style="display:none;" class="inline-flex items-center justify-center w-10 h-10 rounded-full text-sm font-bold shadow bg-gradient-to-br from-green-200 to-green-400 text-white border-2 border-green-300 mb-1">MO</span>
          <span class="font-bold text-xs text-green-900">Priya Venkatesh</span>
          <span class="text-[0.7rem] text-green-700 font-medium">Senior Engineering Manager</span>
        </div>
        <div class="flex flex-col items-center bg-gradient-to-br from-pink-50 to-pink-100 rounded-xl shadow border border-pink-200 px-3 py-2 w-[90px]">
          <img src="taylor.png" alt="Taylor" class="w-10 h-10 rounded-full object-cover border-2 border-pink-300 shadow mb-1" onerror="this.style.display='none';this.nextElementSibling.style.display='inline-flex';" />
          <span style="display:none;" class="inline-flex items-center justify-center w-10 h-10 rounded-full text-sm font-bold shadow bg-gradient-to-br from-pink-200 to-pink-400 text-white border-2 border-pink-300 mb-1">TA</span>
          <span class="font-bold text-xs text-pink-900">Vikram Mehta</span>
          <span class="text-[0.7rem] text-pink-700 font-medium">Lead Backend Developer</span>
        </div>
        <div class="flex flex-col items-center bg-gradient-to-br from-red-50 to-red-100 rounded-xl shadow border border-red-200 px-3 py-2 w-[90px]">
          <img src="jordan.png" alt="Jordan" class="w-10 h-10 rounded-full object-cover border-2 border-red-300 shadow mb-1" onerror="this.style.display='none';this.nextElementSibling.style.display='inline-flex';" />
          <span style="display:none;" class="inline-flex items-center justify-center w-10 h-10 rounded-full text-sm font-bold shadow bg-gradient-to-br from-red-200 to-red-400 text-white border-2 border-red-300 mb-1">JO</span>
          <span class="font-bold text-xs text-red-900">Divya Patel</span>
          <span class="text-[0.7rem] text-red-700 font-medium">DevOps Specialist</span>
        </div>
      </div>
      <!-- Gemini AI Questions Panel (removed input/buttons from here) -->
      <div class="w-full flex flex-col items-center mt-2">
        <div id="ai-questions" class="p-6 text-lg font-semibold text-gray-800 text-center min-h-[60px]"></div>
      </div>
    </div>
    <!-- END Main Interview Panel -->

        <!-- Voice Transcript Output -->
        <div id="voiceTranscript" class="w-full px-5 pt-2 pb-0 flex flex-col gap-1 text-sm"></div>
        <!-- Answer Input and Buttons moved here -->
        <div class="flex items-center gap-3 w-full max-w-md mt-3 px-5">
          <input id="ai-answer-input" type="text" class="w-full rounded-full border border-gray-200 px-5 py-3 mt-2 mb-2 text-gray-800 bg-white shadow focus:ring-2 focus:ring-blue-200 focus:outline-none transition text-sm" placeholder="Type your answer here..." autocomplete="off" />
          <button id="submit-answer-btn" class="px-7 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold rounded-full shadow-lg mt-2 mb-2 transition text-sm">Submit Answer</button>
          <button id="next-question" class="px-7 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold rounded-full shadow-lg mt-2 mb-2 transition text-sm hidden" aria-label="Next Question">Next Question</button>
        </div>
      </div>
    </div>
    </div>
<script src="interview.js"></script>
</body>
</html>
